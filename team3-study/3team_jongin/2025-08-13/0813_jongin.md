# 0813 공부내용 📖

## 매일매일 1일 면접 대비

### __tanstack-query에서 stale time과 gc time의 차이점에 대해서 설명해주세요__
tanstack-query에서 __staleTime__ 과 __gcTime__은 데이터를 캐싱하고 관리하는 데 중요한 설정값이다.

- staleTime: 데이터가 얼마나 오래 신선한 상태로 유지되는지를 정하는 시간

  - staleTime 내에는 같은 쿼리에 대한 새로운 네트워크 요청이 일어나지 않고, 캐시 데이터를 그대로 사용하게 됩니다.(기본값 0분)

  ex) 5분으로 설정시 데이터를 가져오고 나서 5분 동안은 이 데이터가 신선하다고 판단, refetch가 트리거 되더라도 추가 네트워크 요청 없이 캐시 데이터를 계속 사용하고 staleTime이 지난 후 refetch가 트리거 된다면 새로운 요청을 보내 데이터를 갱신.


- gcTime: 해당 쿼리를 사용하는 곳이 없게 된 이후에도 캐시 데이터를 얼마 동안 유지할지를 정하는 시간이다.

  - gcTime은 해당 쿼리가 사용되지 않게 된. ㅣ점으로부터 gcTime으로 설정된 시간이 지나면 캐시에서 데이터가 삭제 됩니다.
  해당 쿼리를 사용하는 컴포넌트가 모두 언마운트 된 시점으로부터 10분 후에 캐시에서 데이터가 삭제됩니다.(기본값 5분)

- 결론: staleTime은 데이터를 처음 가져온 후 얼마동안 네트워크 요청 없이 캐시된 데이터를 사용할지를 정하는 시간이고, gcTime은 해당 쿼리가 사용되지 않게 된 후에도 캐시에 유지 될 시간을 정하는 것이다. 이렇게 각각의 설정을 통해 데이터를 더 효율적으로 관리하고, 불필요한 네트워크 요청을 줄이면서도 최신 데이터를 가져올 수 있도록 한다.

**캐싱이란? : 서버에서 가져온 데이터를 메모리에 저장해뒀다가, 같은 요청이 다시 오면 서버에 재요청하지 않고 바로 꺼내 쓰는것.

**캐시 데이터란? 이미 한번 가져온 데이터를 저장해둔 복사본 즉, 서버에서 가져온 API 응답 값을 메모리에 저장한 것.
